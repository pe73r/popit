
{% assign hasEmballage = false %}

<style>
    [data-side-cart-footer-gift]:has(accordion-content:not([hidden])) {
        position: absolute !important;
        bottom: 100%;
        background: white;
        width: calc(100% + 26px);
        left: -12px;
        padding: 12px;
    }
</style>
{% for item in cart.items %}
    {% if item.variant_id == 44584120910070 %}
    {% assign hasEmballage = true %}
    {% endif %}
{% endfor %}
 <accordion-group data-side-cart-footer-gift class="mt-1  py-2.5">
    <accordion-element>
       <accordion-trigger class="px-5 group">
          <accordion-header class="flex items-center">
              <h6 class="flex-1 text-base font-sans-bold">
                C'EST POUR UN CADEAU ?
              </h6>
          <accordion-icon class="transition-all origin-center h-[fit-content] relative -top-1">
              <span class="icon-plus">{% render 'icon-accordion-plus', small:true %}</span>
              <span class="relative hidden icon-minus top-2">{% render 'icon-accordion-minus', small:true %}</span>
          </accordion-icon>
      </accordion-header>
     </accordion-trigger>
    <accordion-content hidden>
        <tail-gift loading="false" data-cart-note="{{cart.note}}"  class="relative group">

            <div class="z-0 flex flex-col gap-3 px-5 py-3 ">
                <label for="kdo" aria-selected="{{hasEmballage}}" class="flex items-center gap-4 text-xs cursor-pointer select-none group text-acajou font-rebond">
                    <div class="relative flex items-center w-3 h-3 " >
                    <div class="absolute left-0 w-3 h-3 transition-all opacity-0 checkmark group-selected:opacity-100" >
                        {%render "icon-checkmark" %}
                    </div>
                    <div class="absolute left-0 block w-3 h-3 transition-all bg-white rounded opacity-100 checkmark group-selected:opacity-0 ring-1 ring-acajou" >
                    </div>
                    </div>
                    <input type="text" id="kdo" hidden name="kdo">
                    Je veux un emballage cadeau (+2 €)
                </label>
                <div class="text-sm text-acajou font-rebond-bold">
                    Ajouter un message personnalisé (offert)
                </div>
                <textarea name="message" maxlength="150" rows="4" placeholder="Votre message" type="text" class="w-full resize-none p-2.5 text-sm transition-all rounded-sm ring-1 ring-chataigne hover:ring-offset-1 focus:ring-2 focus:ring-offset-1 focus:outline-none" ></textarea>
                <input name="name" placeholder="Votre nom" type="text" class="w-full p-2.5 text-sm transition-all rounded-sm ring-1 ring-chataigne hover:ring-offset-1 focus:ring-offset-1 focus:ring-2 focus:outline-none">
            </div>
            <div class="absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full bg-white opacity-0 pointer-events-none group-loading:opacity-100 group-loading:pointer-events-auto bg-opacity-70" >
                {%render "spinner" %}
            </div>
        </tail-gift>
      </accordion-content>
  </accordion-element>
</accordion-group>
