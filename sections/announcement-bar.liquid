{% if section.settings.display %}
  <div
    id="section-{{ section.id }}"
    class="relative w-full h-[35px]"
    style="color: {{ section.settings.text_color }}; background-color: {{ section.settings.background_color }}">
    <tail-carousel
      data-auto-play="5000"
      slidesToShow="xs:1 sm:1 lg:1 xl:1"
      class="relative w-full"
      style="color: {{ section.settings.text_color }}; background-color: {{ section.settings.background_color }}">
      <carousel-container class="text-sm ">
        <carousel-content class="w-full">
          {% for block in section.blocks %}
            <carousel-panel class="flex items-center justify-center w-full">
              {% if block.settings.url != blank %}
                <a href="{{block.settings.url}}">
                  {{ block.settings.text }}
                </a>
              {% else %}
                <span>
                  {{ block.settings.text }}
                </span>
              {% endif %}

            </carousel-panel>
          {% endfor %}
        </carousel-content>
      </carousel-container>
    </tail-carousel>
  </div>
{% endif %}

{% schema %}
  {
    "name": "Announcement bar",
    "tag": "section",
    "settings": [
      {
        "type": "checkbox",
        "id": "display",
        "label": "Display announcement bar ?",
        "default": true
      }, {
        "type": "header",
        "content": "Colors"
      }, {
        "type": "color",
        "id": "text_color",
        "label": "text color",
        "default": "#fff"
      }, {
        "type": "color",
        "id": "background_color",
        "label": "Background color",
        "default": "#F84C55"
      }
    ],
    "blocks": [
      {
        "name": "Text part",
        "type": "text",
        "settings": [
          {
            "type": "richtext",
            "id": "text",
            "label": "Text",
            "default": "<p>OFFRE : -20% à partir de 100€</p>"
          }, {
            "type": "url",
            "id": "url",
            "label": "Link"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Announcement bar"
      }
    ]
  }
{% endschema %}